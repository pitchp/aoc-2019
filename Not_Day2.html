<script>
/* Day 2 part 1
Integers splitted by commas.
If run into value '99', stop the program.
If run into value '1' sum the values of inputs, next two integers are the positions of inputs, next third integer is the position of output.
If run into value '2' multiply the values of inputs, next two integers are the positions of inputs, next third integer is the position of output.
Once done with the 1/2 code, step forward 4 position.
*/

// creating program and testing with the examples
//var testInt = [1,0,0,0,99];
//var testInt = [2,3,0,3,99];
//var testInt = [2,4,4,5,99,0];
var testInt = [1,1,1,4,99,5,6,0,99];

function myProgram (a){
    for (var i = 0; i < a.length; i+=4){
        if (a[i] != 99) {
            switch (a[i]){
                case 1:
                    //a[i] = 1; // this line is not required. condition is already checked at case ..
                    a[a[i+3]] = a[a[i+1]] + a[a[i+2]];
                    break;
                case 2:
                    //a[i] = 2; // this line is not required. condition is already checked at case ..
                    a[a[i+3]] = a[a[i+1]] * a[a[i+2]];
                    break;
            }
        }
    }
} 
myProgram(testInt);
/* tired of writing this so created a function instead.
for (var i = 0; i < testInt.length; i+=4){
    if (testInt[i] != 99) {
        switch (testInt[i]){
            case 1:
                testInt[i] = 1;
                testInt[testInt[i+3]] = testInt[testInt[i+1]] + testInt[testInt[i+2]];
                break;
            case 2:
                testInt[i] = 2;
                testInt[testInt[i+3]] = testInt[testInt[i+1]] * testInt[testInt[i+2]];
                break;
        }
    }
}
*/
console.log(testInt);

var intCode = [1,0,0,3,1,1,2,3,1,3,4,3,1,5,0,3,2,10,1,19,1,19,9,23,1,23,6,27,2,27,13,31,1,10,31,35,1,10,35,39,2,39,6,43,1,43,5,47,2,10,47,51,1,5,51,55,1,55,13,59,1,59,9,63,2,9,63,67,1,6,67,71,1,71,13,75,1,75,10,79,1,5,79,83,1,10,83,87,1,5,87,91,1,91,9,95,2,13,95,99,1,5,99,103,2,103,9,107,1,5,107,111,2,111,9,115,1,115,6,119,2,13,119,123,1,123,5,127,1,127,9,131,1,131,10,135,1,13,135,139,2,9,139,143,1,5,143,147,1,13,147,151,1,151,2,155,1,10,155,0,99,2,14,0,0];
intCode[1] = 12;
intCode[2] = 2;
myProgram(intCode);
/* tired of writing this so created a function instead.
for (var i = 0; i < intCode.length; i+=4){
    if (intCode[i] != 99) {
        switch (intCode[i]){
            case 1:
                intCode[i] = 1;
                intCode[intCode[i+3]] = intCode[intCode[i+1]] + intCode[intCode[i+2]];
                break;
            case 2:
                intCode[i] = 2;
                intCode[intCode[i+3]] = intCode[intCode[i+1]] * intCode[intCode[i+2]];
                break;
        }
    }
}
*/

console.log(`Day 2 part 1 answer is ${intCode[0]}`) // javascript string interpolation

/* Day 2 Part 2

Replace value in position 1 and 2 with "noun" and "verb"
find those two values that makes the result = 19690720

Keep placing value in "noun" and "verb" until the first value in array is 19690720 then stop.

*/
var noun, verb;
var p2IntCode = [];//[1,0,0,3,1,1,2,3,1,3,4,3,1,5,0,3,2,10,1,19,1,19,9,23,1,23,6,27,2,27,13,31,1,10,31,35,1,10,35,39,2,39,6,43,1,43,5,47,2,10,47,51,1,5,51,55,1,55,13,59,1,59,9,63,2,9,63,67,1,6,67,71,1,71,13,75,1,75,10,79,1,5,79,83,1,10,83,87,1,5,87,91,1,91,9,95,2,13,95,99,1,5,99,103,2,103,9,107,1,5,107,111,2,111,9,115,1,115,6,119,2,13,119,123,1,123,5,127,1,127,9,131,1,131,10,135,1,13,135,139,2,9,139,143,1,5,143,147,1,13,147,151,1,151,2,155,1,10,155,0,99,2,14,0,0];

/*
while (p2IntCode[0] != 19690720){
    p2IntCode = [1,0,0,3,1,1,2,3,1,3,4,3,1,5,0,3,2,10,1,19,1,19,9,23,1,23,6,27,2,27,13,31,1,10,31,35,1,10,35,39,2,39,6,43,1,43,5,47,2,10,47,51,1,5,51,55,1,55,13,59,1,59,9,63,2,9,63,67,1,6,67,71,1,71,13,75,1,75,10,79,1,5,79,83,1,10,83,87,1,5,87,91,1,91,9,95,2,13,95,99,1,5,99,103,2,103,9,107,1,5,107,111,2,111,9,115,1,115,6,119,2,13,119,123,1,123,5,127,1,127,9,131,1,131,10,135,1,13,135,139,2,9,139,143,1,5,143,147,1,13,147,151,1,151,2,155,1,10,155,0,99,2,14,0,0];
    for (noun = 0; noun < 100; noun++){
        for (verb = 0; verb < 100; verb++){
            p2IntCode[1] = noun;
            p2IntCode[2] = verb;
            myProgram(p2IntCode);
        }
    }
}
console.log(p2IntCode[0]);
*/

for (noun = 0; noun < 100; noun++){
    for (verb = 0; verb < 100; verb++){
        // need to flush array since it is changed each loop
        p2IntCode = [1,0,0,3,1,1,2,3,1,3,4,3,1,5,0,3,2,10,1,19,1,19,9,23,1,23,6,27,2,27,13,31,1,10,31,35,1,10,35,39,2,39,6,43,1,43,5,47,2,10,47,51,1,5,51,55,1,55,13,59,1,59,9,63,2,9,63,67,1,6,67,71,1,71,13,75,1,75,10,79,1,5,79,83,1,10,83,87,1,5,87,91,1,91,9,95,2,13,95,99,1,5,99,103,2,103,9,107,1,5,107,111,2,111,9,115,1,115,6,119,2,13,119,123,1,123,5,127,1,127,9,131,1,131,10,135,1,13,135,139,2,9,139,143,1,5,143,147,1,13,147,151,1,151,2,155,1,10,155,0,99,2,14,0,0];
        p2IntCode[1] = noun;
        p2IntCode[2] = verb;
        myProgram(p2IntCode);
        if (p2IntCode[0] == 19690720){
            console.log(p2IntCode[0]);
            console.log(100 * noun + verb);    
        }
        // add this to keep the value of first value in array
        if (p2IntCode[0] == 19690720){
            break;
        }
    }
    // add this to keep the value of first value in array
    if (p2IntCode[0] == 19690720){
        break;
    }
}
console.log(p2IntCode[0]);

</script>